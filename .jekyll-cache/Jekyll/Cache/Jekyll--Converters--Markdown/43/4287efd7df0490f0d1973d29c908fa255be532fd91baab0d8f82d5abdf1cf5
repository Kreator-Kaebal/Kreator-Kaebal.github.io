I"<p>파이썬 멀티프로세싱 풀을 알아보자
<!--excerpt--></p>

<h2 id="지난-이야기">지난 이야기</h2>
<p>지난 시간에는 파이썬 멀티프로세싱 중 프로세스(Process)를 이야기했다.<br />
이번에는 멀티프로세싱의 또다른 방법인 풀(Pool)을 설명하겠다.</p>
<h2 id="pool">Pool</h2>
<ul>
  <li>풀은 스타크래프트의 <em>스포닝 풀</em>을 생각하면 된다.
    <ul>
      <li>산란못을 지으면 부화장에서 저글링을 생성할 수 있다. 부화장을 많이 지을수록 더 많은 저글링이 생성된다.</li>
      <li>여기서 <em>산란못을 풀 객체, 부화장을 프로세스<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup>, 저글링을 함수 일(혹은 리턴값)</em>로 치환하면 된다.</li>
      <li>즉 풀 객체를 선언하고 함수+인자를 할당해 준 뒤 실행하면, <strong>프로세서들이 알아서 함수 일을 나눠 수행</strong>한다는 것이다.</li>
    </ul>
  </li>
  <li>간단한 사용법을 알려주자면,
    <ul>
      <li>
        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">multiprocessing</span> <span class="kn">import</span> <span class="n">Pool</span>
<span class="p">(</span><span class="n">변수명</span><span class="p">)</span> <span class="o">=</span> <span class="n">Pool</span><span class="p">(</span> <span class="p">(</span><span class="n">워커</span> <span class="n">개수</span><span class="p">)</span> <span class="p">)</span>
<span class="p">(</span><span class="n">변수명</span><span class="p">).</span><span class="nb">map</span><span class="p">(</span> <span class="p">(</span><span class="n">실행</span> <span class="n">함수</span><span class="p">)</span> <span class="p">,</span> <span class="p">(</span><span class="n">함수</span> <span class="n">인자</span><span class="p">)</span> <span class="p">)</span>
<span class="p">(</span><span class="n">변수명</span><span class="p">).</span><span class="n">close</span><span class="p">()</span>
<span class="p">(</span><span class="n">변수명</span><span class="p">).</span><span class="n">join</span><span class="p">()</span>
</code></pre></div>        </div>
      </li>
      <li>먼저 Pool() 객체를 선언해야 한다. (워커 개수)는 풀 객체에서 사용할 프로세스 개수를 의미한다.<br />
그냥 괄호 안에 입력해도 되고, processes=(개수) 이렇게 명시적으로 입력해도 된다.</li>
      <li>프로세스와 마찬가지로 (함수 인자)를 작성할 땐 괄호 안에 인자들을 놓고 <strong>괄호 마지막은 무조건 쉼표</strong>로 끝나야 한다.</li>
      <li></li>
    </ul>
  </li>
</ul>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p>멀티프로세싱의 프로세스(from multiprocessing import Process)와는 다르다. 이 글에서 말하는 프로세스는 특별히 언급하지 않는 이상 ‘CPU 코어’라 생각하면 된다. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>
:ET